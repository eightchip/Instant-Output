# プレミアム機能（AI OCR）の有効化方法

## 概要

開発・テスト用に、AI OCR機能を一時的に有効化する方法です。  
この方法はローカルストレージを使用するため、ブラウザを閉じるか、データをクリアすると無効になります。

## ブラウザのコンソールを開く方法

### Google Chrome / Microsoft Edge

1. **方法1: キーボードショートカット**
   - Windows/Linux: `F12` キーを押す
   - Mac: `Cmd + Option + I` を押す

2. **方法2: メニューから**
   - ブラウザの右上の「⋮」（三点メニュー）をクリック
   - 「その他のツール」→「デベロッパーツール」を選択

3. **方法3: 右クリックメニュー**
   - ページ上で右クリック
   - 「検証」または「Inspect」を選択

### Firefox

1. **方法1: キーボードショートカット**
   - Windows/Linux: `F12` キーを押す
   - Mac: `Cmd + Option + I` を押す

2. **方法2: メニューから**
   - ブラウザの右上の「☰」（ハンバーガーメニュー）をクリック
   - 「その他のツール」→「開発者ツール」を選択

### Safari（Mac）

1. **開発者メニューを有効化**
   - Safariの設定（環境設定）を開く
   - 「詳細」タブを選択
   - 「メニューバーに"開発"メニューを表示」にチェック

2. **コンソールを開く**
   - `Cmd + Option + C` を押す
   - または「開発」メニュー→「JavaScriptコンソールを表示」

## コンソールでコマンドを実行する手順

### ⚠️ セキュリティ警告について

ブラウザによっては、コマンドを貼り付ける際に以下の警告が表示される場合があります：

> "Warning: Don't paste code into the DevTools Console that you don't understand..."

これは、悪意のあるコードの貼り付けを防ぐためのセキュリティ機能です。  
**このコマンドは安全です**が、警告を解除するには以下のいずれかの方法を使用してください。

### 方法1: 警告を解除して貼り付け（推奨）

1. コンソールの入力欄に `allow pasting` と入力
2. Enterキーを押す
3. 警告が解除されたら、コマンドを貼り付けて実行

### 方法2: 手動で入力（最も安全）

警告を解除せず、コマンドを手動で入力する方法です：

1. コンソールの入力欄に以下を1文字ずつ入力：
   ```javascript
   localStorage.setItem('instant_output_premium', JSON.stringify({'enabled': true, 'features': ['ai_ocr']}));
   ```
2. Enterキーを押す
3. 次に以下を入力：
   ```javascript
   location.reload();
   ```
4. Enterキーを押す

### 方法3: 1行ずつ実行（推奨）

コマンドを2つに分けて実行する方法です：

**ステップ1: コンソールタブを選択**

デベロッパーツールが開いたら、上部のタブから「Console」（コンソール）を選択します。

**ステップ2: 1つ目のコマンドを実行**

コンソールの下部にある入力欄（`>` の記号がある場所）に、以下のコマンドを入力します：

```javascript
localStorage.setItem('instant_output_premium', JSON.stringify({'enabled': true, 'features': ['ai_ocr']}));
```

Enterキーを押して実行します。正常に実行されると、何も表示されないか、`undefined` と表示されます（これは正常です）。

**ステップ3: ページをリロード**

次に、以下のコマンドを入力してEnterキーを押します：

```javascript
location.reload();
```

または、ブラウザのリロードボタン（🔄）をクリックしても構いません。

### ステップ5: 確認

ページがリロードされたら、AI OCR機能が有効になっているはずです。  
「AIでカード化」メニューにアクセスして、機能が使用できることを確認してください。

## コマンドを1行で実行する方法

2つのコマンドを1行で実行したい場合は、以下のように `;` で区切って入力します：

```javascript
localStorage.setItem('instant_output_premium', JSON.stringify({'enabled': true, 'features': ['ai_ocr']})); location.reload();
```

## コマンドの説明

### `localStorage.setItem()`
- ブラウザのローカルストレージにデータを保存する関数
- 第1引数: キー名（`'instant_output_premium'`）
- 第2引数: 保存する値（JSON形式の文字列）

### `JSON.stringify()`
- JavaScriptオブジェクトをJSON文字列に変換する関数
- `{'enabled': true, 'features': ['ai_ocr']}` というオブジェクトを文字列に変換

### `location.reload()`
- 現在のページをリロードする関数
- 設定を反映させるために必要

## 無効化する方法

プレミアム機能を無効化したい場合は、以下のコマンドを実行してください：

```javascript
localStorage.removeItem('instant_output_premium');
location.reload();
```

## 現在の状態を確認する方法

プレミアム機能が有効かどうかを確認するには、以下のコマンドを実行してください：

```javascript
localStorage.getItem('instant_output_premium');
```

有効な場合は、JSON文字列が表示されます。無効な場合は、`null` が表示されます。

## トラブルシューティング

### コンソールが開かない
- ブラウザの設定でデベロッパーツールが無効になっている可能性があります
- 別のブラウザで試してみてください

### コマンドを実行しても機能が有効にならない
- ページをリロードしたか確認してください
- ブラウザのキャッシュをクリアしてみてください
- コンソールにエラーメッセージが表示されていないか確認してください

### エラーメッセージが表示される
- コマンドの入力ミスがないか確認してください（引用符、括弧など）
- ブラウザがローカルストレージをサポートしているか確認してください

## 注意事項

- この方法は開発・テスト用です
- ブラウザのデータをクリアすると、設定が無効になります
- プライベートモード（シークレットモード）では、タブを閉じると設定が消えます
- 本番環境では、適切な課金システムを実装してください

